<h2>My returned books</h2>
<hr />

<!-- Legend Area -->
<div class="border rounded p-3 bg-light">
  <h6 class="mb-2">Legend</h6>
  <div class="d-flex flex-column gap-2">
    <div class="d-flex align-items-center gap-2">
      <i class="fa-regular fa-paper-plane text-success"></i>&nbsp; It is
      possible to return the tool
    </div>
    <div class="d-flex align-items-center gap-2">
      <img
        src="assets/icons/delivered.svg"
        alt="approve icon"
        width="30"
        height="30"
      />
      &nbsp; Tool returned
    </div>
    <div class="d-flex align-items-center gap-2">
      <i class="fa-solid fa-circle-check" [class.text-success]="true"></i>&nbsp;
     Tool-return approved
    </div>
    <div class="d-flex align-items-center gap-2">
      <i class="fa-solid fa-circle-check" [class.text-success]="false"></i>&nbsp;
      Approve the tool-return
    </div>
    <div class="d-flex align-items-center gap-2">
      <i class="fas fa-cogs"></i>&nbsp; Actions
    </div>
  </div>
</div>

<div
  *ngIf="message"
  class="alert"
  [class.alert-danger]="alertLevel === 'error'"
  [class.alert-success]="alertLevel === 'success'"
  role="alert"
>
  <p>{{ message }}</p>
</div>
<div>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col">Author</th>
        <th scope="col">ISBN</th>
        <th scope="col">Rate</th>
        <th scope="col"><i class="fas fa-cogs"></i></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let tool of returnedTools.content; let index = index">
        <th scope="row">{{ index + 1 }}</th>
        <td>{{ tool.name }}</td>
        <td>{{ tool.condition }}</td>
        <td>{{ tool.category }}</td>
        <td><i class="fas fa-star text-warning"></i> {{ tool.rate }}</td>
        <td>
          <div class="d-flex gap-2">
            <span>
              <img
                *ngIf="tool.returned"
                src="assets/icons/delivered.svg"
                alt="approve icon"
                width="30"
                height="30"
              />
            </span>
            <span
              ><i
                *ngIf="!tool.returned"
                class="fa-solid fa-paper-plane text-success"
              ></i> </span
            ><span class="cursor-pointer">
              <i
                class="fa-solid fa-circle-check"
                (click)="approveToolReturn(tool)"
                [class.text-success]="tool.returnApproved"
              ></i>
            </span>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
